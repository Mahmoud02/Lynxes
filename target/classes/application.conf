# FastQueue2 Base Configuration
# This is the base configuration file for FastQueue2 message queue server

fastqueue {
  server {
    port = 8080
    threadPoolSize = 10
  }
  
  storage {
    dataDirectory = "./data"
    maxSegmentSize = 1048576  # 1MB in bytes
    retentionPeriodMs = 604800000  # 7 days in milliseconds
    indexInterval = 1024  # 1KB
    maxMessageSize = 1048576  # 1MB
  }
  
  performance {
    enableCompression = false
    enableMetrics = true
    flushIntervalMs = 1000
    maxConcurrentConnections = 1000
    enableBatching = true
    batchSize = 100
  }
  
  # Flush strategy configuration ()
  flush {
    strategy = "hybrid"  # Options: immediate, message_based, time_based, hybrid, os_controlled
    messageInterval = 1000  # Flush every N messages (for message_based and hybrid)
    timeIntervalMs = 1000   # Flush every N milliseconds (for time_based and hybrid)
    forceMetadata = true    # Force metadata sync (more durable but slower)
    enablePageCache = true  # Use OS page cache for performance
  }
  
  logging {
    level = "INFO"
    file = "logs/fastqueue2.log"
  }
}
