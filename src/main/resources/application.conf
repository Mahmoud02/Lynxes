# FastQueue2 Base Configuration
# This is the base configuration file for FastQueue2 message queue server

fastqueue {
  server {
    port = 8080
    threadPoolSize = 10
  }
  
  storage {
    dataDirectory = "./data"
    maxSegmentSize = 1048576  # 1MB in bytes
    retentionPeriodMs = 604800000  # 7 days in milliseconds
    indexInterval = 1024  # 1KB
    maxMessageSize = 1048576  # 1MB
  }
  
  performance {
    enableCompression = false
    enableMetrics = true
    flushIntervalMs = 1000
    maxConcurrentConnections = 1000
    enableBatching = true
    batchSize = 100
  }
  
  # Flush strategy configuration (Kafka-inspired defaults)
  flush {
    strategy = "os_controlled"  # Options: immediate, message_based, time_based, hybrid, os_controlled
    messageInterval = 9223372036854775807  # Kafka default: Long.MaxValue (effectively disabled)
    timeIntervalMs = 9223372036854775807   # Kafka default: Long.MaxValue (effectively disabled)
    forceMetadata = false    # Let OS handle metadata sync for performance
    enablePageCache = true   # Use OS page cache for maximum performance
  }
  
  logging {
    level = "DEBUG"
    file = "logs/no-xml-test.log"
  }
}
